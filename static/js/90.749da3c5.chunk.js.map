{"version":3,"file":"static/js/90.749da3c5.chunk.js","mappings":"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","sources":["webpack://learning-english-app/./src/UI/Card.module.css?b1e4","UI/Card.js","webpack://learning-english-app/./src/UI/Input.module.css?95ce","UI/Input.js","webpack://learning-english-app/./src/UI/Modal.module.css?c7c1","UI/Modal.js","hooks/useInput.js","webpack://learning-english-app/./src/pages/SignIn.module.css?b1dd","pages/SignIn.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Card_card__Zi619\"};","import classes from \"./Card.module.css\";\r\n\r\nconst Card = (props) => {\r\n  const cardClass = classes.card;\r\n  return (\r\n    <div\r\n    onClick={props.onClick}\r\n      className={\r\n        props.className ? `${cardClass} ${props.className}` : cardClass\r\n      }\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form-control\":\"Input_form-control__4lNCk\",\"invalid\":\"Input_invalid__ARa-D\",\"error\":\"Input_error__NdRaW\"};","import classes from \"./Input.module.css\";\r\n\r\nconst Input = (props) => {\r\n  return (\r\n    <div className={classes[\"form-control\"]}>\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        className={props.hasError ? classes.invalid : null}\r\n        value={props.inputValue}\r\n        onChange={props.onChange}\r\n        onBlur={props.onBlur}\r\n      />\r\n      {props.showError && props.hasError && (\r\n        <p className={classes.error}>{props.error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"Modal_backdrop__qaofM\",\"overlay\":\"Modal_overlay__lKJ-T\",\"header\":\"Modal_header__vSJCg\",\"content\":\"Modal_content__tGlgj\",\"footer\":\"Modal_footer__+ejtP\",\"action\":\"Modal_action__ioezI\",\"confirm-btn\":\"Modal_confirm-btn__Sgmni\",\"action-btn\":\"Modal_action-btn__W2Yo6\"};","import ReactDOM from \"react-dom\";\r\n\r\nimport classes from \"./Modal.module.css\";\r\n\r\nconst Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onClick} />;\r\n};\r\n\r\nconst Overlay = (props) => {\r\n  return (\r\n    <div className={classes.overlay}>\r\n      <header className={classes.header}>{props.title}</header>\r\n      <div className={classes.content}>{props.message}</div>\r\n      <footer className={classes.footer}>\r\n        <div className={classes.action}>\r\n          {props.secondOnClick && (\r\n            <button\r\n              className={classes[\"action-btn\"]}\r\n              onClick={props.secondOnClick}\r\n            >\r\n              {props.secondTextButton}\r\n            </button>\r\n          )}\r\n          <button className={classes[\"confirm-btn\"]} onClick={props.onClick}>\r\n            {props.firstTextButton ? props.firstTextButton : \"OK\"}\r\n          </button>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onClick={props.onClick} />,\r\n        document.getElementById(\"backdrop-root\")\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <Overlay\r\n          onClick={props.onClick}\r\n          title={props.title}\r\n          message={props.message}\r\n          secondOnClick={props.secondOnClick}\r\n          secondTextButton={props.secondTextButton}\r\n          firstTextButton={props.firstTextButton}\r\n        />,\r\n        document.getElementById(\"overlay-root\")\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Modal;\r\n","import { useState } from \"react\";\r\n\r\nconst useInput = (props) => {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [isValid, setIsValid] = useState(false);\r\n  const [isTouched, setIsTouched] = useState(false);\r\n  const hasError = !isValid && isTouched;\r\n  const [showError, setShowError] = useState(false);\r\n\r\n  const inputChangeHandler = (event) => {\r\n    const currentValue = event.target.value;\r\n    setIsTouched(false);\r\n    setInputValue(currentValue);\r\n    props.secondCondition && props.secondCondition(currentValue);\r\n    if (props.condition(currentValue)) {\r\n      setIsValid(true);\r\n    } else {\r\n      setIsValid(false);\r\n    }\r\n  };\r\n  const inputBlurHandler = () => {\r\n    setIsTouched(true);\r\n    setShowError(true);\r\n  };\r\n  const resetInput = () => {\r\n    setInputValue(\"\");\r\n    setIsTouched(false);\r\n  };\r\n  const turnOnIsTouched = () => {\r\n    setIsTouched(true);\r\n  };\r\n  const changeIsValid = (val) => {\r\n    setIsValid(val);\r\n  };\r\n  const changeShowError = (val) => {\r\n    setShowError(val);\r\n  };\r\n  return {\r\n    inputValue,\r\n    isValid,\r\n    hasError,\r\n    showError,\r\n    inputChangeHandler,\r\n    inputBlurHandler,\r\n    resetInput,\r\n    turnOnIsTouched,\r\n    changeIsValid,\r\n    changeShowError,\r\n  };\r\n};\r\nexport default useInput;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"signing-page\":\"SignIn_signing-page__zACdZ\",\"sign-in\":\"SignIn_sign-in__bmz+i\",\"title\":\"SignIn_title__A219y\",\"submit\":\"SignIn_submit__w43yf\",\"toggleForm\":\"SignIn_toggleForm__RN6qH\",\"toggleLink\":\"SignIn_toggleLink__3dM33\"};","import { useContext, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport useInput from \"../hooks/useInput\";\r\nimport AuthContext from \"../store/Auth-context\";\r\nimport Card from \"../UI/Card\";\r\nimport Input from \"../UI/Input\";\r\nimport Modal from \"../UI/Modal\";\r\nimport classes from \"./SignIn.module.css\";\r\n\r\nconst SignInPage = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const search = history.location.search;\r\n  const prevPath = new URLSearchParams(search).get(\"path\");\r\n\r\n  const [notification, setNotification] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const emailCondition = (val) => {\r\n    return val.includes(\"@\");\r\n  };\r\n  const passwordCondition = (val) => {\r\n    return val.trim().length > 6;\r\n  };\r\n\r\n  const {\r\n    inputValue: email,\r\n    isValid: emailIsValid,\r\n    hasError: emailHasError,\r\n    showError,\r\n    changeShowError,\r\n    inputChangeHandler: emailChangeHandler,\r\n    inputBlurHandler: emailBlurHandler,\r\n    resetInput: resetEmailInput,\r\n    turnOnIsTouched: turnOnEmailIsTouched,\r\n  } = useInput({ condition: emailCondition });\r\n\r\n  const {\r\n    inputValue: password,\r\n    isValid: passwordIsValid,\r\n    hasError: passwordHasError,\r\n    inputChangeHandler: passwordChangeHandler,\r\n    inputBlurHandler: passwordBlurHandler,\r\n    resetInput: resetPasswordInput,\r\n    turnOnIsTouched: turnOnPasswordIsTouched,\r\n  } = useInput({\r\n    condition: passwordCondition,\r\n  });\r\n\r\n  const formIsValid = emailIsValid && passwordIsValid;\r\n\r\n  const sendRequest = async () => {\r\n    setNotification(false);\r\n    let apiKey = \"AIzaSyD0iWDZ1ABlsuooDbitUTmj93_GWg8CRyA\";\r\n    const response = await fetch(\r\n      `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${apiKey}`,\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: email,\r\n          password: password,\r\n          returnSecureToken: false,\r\n        }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n    try {\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        const error = (data && data.error.message) || response.status;\r\n        throw new Error(error);\r\n      }\r\n      authCtx.login(data.idToken, data.email);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setNotification(true);\r\n      setErrorMessage(error.toString());\r\n      throw new Error(error);\r\n    }\r\n  };\r\n\r\n  const closeModalHandler = () => {\r\n    setNotification(false);\r\n  };\r\n\r\n  const formSubmitHandler = async (event) => {\r\n    event.preventDefault();\r\n    if (!formIsValid) {\r\n      turnOnEmailIsTouched();\r\n      turnOnPasswordIsTouched();\r\n      changeShowError(true);\r\n      return;\r\n    } else {\r\n      changeShowError(false);\r\n    }\r\n    await sendRequest();\r\n    resetEmailInput();\r\n    resetPasswordInput();\r\n    history.push(prevPath);\r\n  };\r\n\r\n  return (\r\n    <div className={classes[\"signing-page\"]}>\r\n      <Card className={classes[\"sign-in\"]}>\r\n        <h2 className={classes.title}>Sign-In</h2>\r\n        <form onSubmit={formSubmitHandler}>\r\n          <Input\r\n            id={email}\r\n            label=\"Your E-mail\"\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={emailChangeHandler}\r\n            onBlur={emailBlurHandler}\r\n            showError={showError}\r\n            hasError={emailHasError}\r\n            error=\"This email is not registered!\"\r\n          />\r\n          <Input\r\n            id={password}\r\n            label=\"Enter Your Password\"\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={passwordChangeHandler}\r\n            onBlur={passwordBlurHandler}\r\n            showError={showError}\r\n            hasError={passwordHasError}\r\n            error=\"Your password is not correct!\"\r\n          />\r\n          <button className={classes.submit}>Sign In</button>\r\n        </form>\r\n      </Card>\r\n      <div className={classes.toggleForm}>\r\n        <fieldset>\r\n          <legend>New User?</legend>\r\n        </fieldset>\r\n        <Link className={classes.toggleLink} to=\"/sign-up\">\r\n          Sign up on new account\r\n        </Link>\r\n      </div>\r\n      {notification && (\r\n        <Modal\r\n          title=\"Error\"\r\n          message={errorMessage}\r\n          onClick={closeModalHandler}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default SignInPage;\r\n"],"names":["props","cardClass","classes","onClick","className","children","htmlFor","id","label","type","hasError","value","inputValue","onChange","onBlur","showError","error","Backdrop","Overlay","title","message","secondOnClick","secondTextButton","firstTextButton","ReactDOM","document","getElementById","useState","setInputValue","isValid","setIsValid","isTouched","setIsTouched","setShowError","inputChangeHandler","event","currentValue","target","secondCondition","condition","inputBlurHandler","resetInput","turnOnIsTouched","changeIsValid","val","changeShowError","authCtx","useContext","AuthContext","history","useHistory","search","location","prevPath","URLSearchParams","get","notification","setNotification","errorMessage","setErrorMessage","useInput","includes","email","emailIsValid","emailHasError","emailChangeHandler","emailBlurHandler","resetEmailInput","turnOnEmailIsTouched","trim","length","password","passwordIsValid","passwordHasError","passwordChangeHandler","passwordBlurHandler","resetPasswordInput","turnOnPasswordIsTouched","formIsValid","sendRequest","fetch","method","body","JSON","stringify","returnSecureToken","headers","response","json","data","ok","status","Error","login","idToken","console","log","toString","formSubmitHandler","preventDefault","push","Card","onSubmit","Input","to","Modal"],"sourceRoot":""}