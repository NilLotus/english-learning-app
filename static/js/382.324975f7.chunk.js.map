{"version":3,"file":"static/js/382.324975f7.chunk.js","mappings":"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","sources":["webpack://learning-english-app/./src/UI/Tooltip.module.css?40f3","UI/Tooltip.js","webpack://learning-english-app/./src/components/StoryDetail.module.css?1b36","components/StoryDetail.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"tooltip\":\"Tooltip_tooltip__JCYZU\",\"tooltip-text\":\"Tooltip_tooltip-text__ERhzj\"};","import classes from \"./Tooltip.module.css\";\r\n\r\nconst Tooltip = (props) => {\r\n  return (\r\n    <div className={`${classes.tooltip} ${props.className && props.className}`} onClick={props.onClick}>\r\n      {props.children}\r\n      <div className={classes[\"tooltip-text\"]}>{props.title}</div>\r\n    </div>\r\n  );\r\n};\r\nexport default Tooltip;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"story-detail\":\"StoryDetail_story-detail__Us332\",\"detail\":\"StoryDetail_detail__6McTR\",\"actions\":\"StoryDetail_actions__Yo6yb\",\"mark\":\"StoryDetail_mark__edblS\",\"font-actions\":\"StoryDetail_font-actions__eT-bs\",\"back-btn\":\"StoryDetail_back-btn__21hE1\",\"image\":\"StoryDetail_image__qOg+b\",\"font\":\"StoryDetail_font__kw7vb\",\"default\":\"StoryDetail_default__MWwny\",\"font-size\":\"StoryDetail_font-size__9WxOJ\",\"name\":\"StoryDetail_name__D+OIf\",\"author\":\"StoryDetail_author__TW+XJ\",\"script\":\"StoryDetail_script__2r9DF\",\"audio\":\"StoryDetail_audio__fGnst\"};","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { IoArrowBack } from \"react-icons/io5\";\r\n\r\nimport {\r\n  sendStoryDetail,\r\n  updateStoryDetail\r\n} from \"../app/story-actions\";\r\nimport Tooltip from \"../UI/Tooltip\";\r\nimport classes from \"./StoryDetail.module.css\";\r\n\r\nconst Storydetail = () => {\r\n  const [fontSize, setFontSize] = useState(16);\r\n  const [lineHeight, setLineHeight] = useState(\"28px\");\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const stories = useSelector((state) => state.story.stories);\r\n  const storyDetailPerUser = useSelector((state) => state.story.detailPerUser);\r\n  const isLoading = useSelector((state) => state.story.isLoading);\r\n  const storyIndex = stories.findIndex((item) => item.id === params.storyId);\r\n\r\n  if (fontSize > 10 && fontSize < 17 && lineHeight !== \"28px\") {\r\n    setLineHeight(\"28px\");\r\n  }\r\n  if (fontSize > 16 && fontSize < 29 && lineHeight !== \"42px\") {\r\n    setLineHeight(\"42px\");\r\n  }\r\n  if (fontSize > 28 && fontSize < 37 && lineHeight !== \"52px\") {\r\n    setLineHeight(\"52px\");\r\n  }\r\n  const decreaseFontSize = () => {\r\n    setFontSize((prevState) => {\r\n      return prevState - 1;\r\n    });\r\n  };\r\n  const increaseFontSize = () => {\r\n    setFontSize((prevState) => {\r\n      return prevState + 1;\r\n    });\r\n  };\r\n  const backToStoriesHandler = () => {\r\n    history.push(\"/stories\");\r\n  };\r\n  \r\n  const index = storyDetailPerUser.findIndex(\r\n    (detail) => detail.id === stories[storyIndex][\"id\"]\r\n  );\r\n  const toggleReadHandler = () => {\r\n    if (!!localStorage.getItem(\"userName\")) {\r\n      if (index >= 0) {\r\n        dispatch(updateStoryDetail(storyDetailPerUser[index]));\r\n      } else {\r\n        dispatch(\r\n          sendStoryDetail({ id: stories[storyIndex][\"id\"], read: true })\r\n        );\r\n      }\r\n    } else {\r\n      history.push(`/sign-in?path=${history.location.pathname}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    !isLoading && (\r\n      <div className={classes[\"story-detail\"]}>\r\n        <div className={classes.detail}>\r\n          <div className={classes.actions}>\r\n            <Tooltip\r\n              className={classes[\"back-btn\"]}\r\n              onClick={backToStoriesHandler}\r\n              title=\"Back\"\r\n            >\r\n              <IoArrowBack />\r\n            </Tooltip>\r\n            <button className={classes.mark} onClick={toggleReadHandler}>\r\n              {index > -1 && storyDetailPerUser[index][\"read\"] ?\r\n                  \"Mark as unread\": \"Mark as read\"}\r\n            </button>\r\n          </div>\r\n          <img className={classes.image} alt='' src={stories[storyIndex][\"image\"]} />\r\n          <audio className={classes.audio} controls>\r\n            <source src={stories[storyIndex][\"audio\"]} />\r\n          </audio>\r\n          <div className={classes.font}>\r\n            <div>\r\n              <span>Font Size:</span>\r\n              <span className={classes[\"font-size\"]}>{fontSize - 9}</span>\r\n            </div>\r\n            <div className={classes[\"font-actions\"]}>\r\n              <button onClick={decreaseFontSize} disabled={fontSize === 10}>\r\n                -\r\n              </button>\r\n              <button\r\n                className={classes.default}\r\n                onClick={() => setFontSize(16)}\r\n              >\r\n                Default\r\n              </button>\r\n              <button onClick={increaseFontSize} disabled={fontSize === 36}>\r\n                +\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className={classes.script}\r\n          style={{ fontSize: `${fontSize}px`, lineHeight: lineHeight }}\r\n        >\r\n          <div className={classes.name}>\r\n            {stories[storyIndex][\"name\"]}\r\n            <span className={classes.author}>\r\n              (By: <i>{stories[storyIndex][\"writer\"]}</i>)\r\n            </span>\r\n          </div>\r\n          <div\r\n            dangerouslySetInnerHTML={{\r\n              __html: stories[storyIndex][\"script\"],\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n};\r\nexport default Storydetail;\r\n"],"names":["props","className","classes","onClick","children","title","useState","fontSize","setFontSize","lineHeight","setLineHeight","params","useParams","history","useHistory","dispatch","useDispatch","stories","useSelector","state","story","storyDetailPerUser","detailPerUser","isLoading","storyIndex","findIndex","item","id","storyId","index","detail","Tooltip","push","localStorage","getItem","updateStoryDetail","sendStoryDetail","read","location","pathname","alt","src","controls","prevState","disabled","style","dangerouslySetInnerHTML","__html"],"sourceRoot":""}